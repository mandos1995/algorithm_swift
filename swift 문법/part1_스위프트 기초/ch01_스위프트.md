# 스위프트

스위프트는 안전을 우선으로 하는 프로그래밍 패턴을 지향하며, 더욱 쉽고 재미있게 프로그래밍 할 수 있도록 옵셔널, 제네릭, 프로토콜, 튜플, 익스텐션 등 새로운 기능을 많이 도입했다.

스위프트는 편리하며 고착원적 언어이다. 먼저, ARC(자동 참조 카운팅)을 지원하므로 쉽게 메모리를 관리할 수 있다. 또한 기존의 Objective-C 언어에 익숙하다면 더욱 쉽게 스위프트를 익힐 수 있다. Objective-C의 동적 객체 모델과 매개변수 형식을 스위프트에 도입했기 때문이다. 더불어 스크립트 언어처럼 (문법은 스크립트 언어 같아 보여도 스위프트는 컴파일 언어) 프로그램을 빌드하고 실행하는 등의 수고로움 없이 플레이그라운드를 사용해 스위프트 코드의 결과를 바로 확인할 수 있다.

스위프트의 거의 문법에서는 소괄호( )는 사용하거나 생략해도 무관하다. 또한 세미콜론도 생략할 수 있다. 다만 중괄호 { }는 생략할 수 없다. 그 때문에 프로그래머마다 전혀 다른 스타일로 코딩할 수 있다. 좋은 의미로 보자면 자신이 원하는 방식대로 자유롭게 코딩할 수 있다는 뜻이지만, 다른 사람의 코드를 읽이 어려울 수 있다는 단점이 있다. 즉, 스위프트 언어의 자유도가 높아서 작성자의 스타일에 따라 다양한 방식으로 코딩할 수 있지만 한편으로 가독성이 떨어질 수 있으므로 주의가 필요하다.

## 1.1 스위프트의 역사
애플은 2015년 12월 스위프트를 오픈소스로 전환하여 공개하였다.

## 1.2 스위프트의 언어적 특성
애플이 최초에 스위프트를 발표했을 때 스위프트 언어의 특징을 Safe, Modern, Powerful 이라고 발표했다. 그러나 오픈소스로 전환되면서 특징을 **Safe, Fast, Expressive**로 변경하여 발표했다. 먼저 애플이 발표한 스위프트의 언어적 특징을 항목별로 정리해보았다.

**안정성(Safe)**
스위프트는 안전한 프로그래밍을 지향한다. 소프트웨어가 배포되기 전, 즉 프로그래밍하는 중에 프로그래머가 저지를 수 있는 실수를 엄격한 문법을 적용해 미연에 방지하고자 노력했다. 때론 너무 강제적이라고 느껴질 수 있지만 문법적 제재는 실수를 줄이는 데 도움이 된다. 버그를 수정하거나 실수를 찾아내는 시간을 절약할 수 있다. 옵셔널이라는 기능을 비롯하여 guard 구문, 오류처리, 강력한 타입 통제 등을 통해 스위프트는 안전한 프로그래밍을 구현하고 있다.

**신속성(Fast)**
스위프트는 C 언어를 기반으로 한 C, C++, Objective-C 와 같은 프로그래밍 언어를 대체하려는 목적으로 만들어졌다. 아직은 미흡한 부분도 있지만 스위프트는 C언어 수준과 동등한 성능을 일정한 수준으로 유지하는 데 초점을 맞춰 개발되었다. 실행 속도의 최적화뿐만 아니라 컴파일러를 지속적으로 개량해 더 빠른 컴파일 성능을 구현해 나가고 있기도 하다.

**더 나은 표현성(Expressive)**
컴퓨터 과학 분야의 발전과 함께 성장한 수많은 프로그래밍 언어 각각의 문법은 다향한 장단점이 있다. 스위프트는 이런 장단점을 참고해 좀 더 사용하기 편하고 보기 좋은 문법을 구현하려 노력했다. 덕분에 개발자들이 원하던 현대적이고 세련된 문법을 구사할 수 있다. 그러나 지금의 스위프트가 끝이 아니다. 계속된 업데이트를 통해 더욱 보기 좋고 쓰기 좋은 언어로 발전해 나갈 것이다.

애플이 발표한 세 가지 특징 외에도 스위프트는 많은 특징이 있다. 그중에 프로그래밍 패러다임에 대해 조금 더 설명하겠다. 스위프트는 여러 가지 프로그래밍 패러다임을 차용한 다중 패러다임 프로그래밍 언어이다. 크게 보면 명령형 프로그래밍 패러다임, 객체지향 프로그래밍 패러다임, 함수형 프로그래밍 패러다임, 프로토콜 지향 프로그래밍 패러다임을 차용했다. 정확하게는 명령형과 객체지향 프로그래밍 패러다임을 기반으로 한 함수형 프로그래밍 및 패러다임과 프로토콜 지향 프로그래밍 패러다임을 지향한다.

결과적으로 스위프트에서 가장 강조하는 부분은 **함수형 프로그래밍 패러다임**과 **프로토콜 지향 프로그래밍 패러다임**이다.

기존의 C언어는 명령형 프로그래밍 패러다임을 차용했으며, C++, JAVA 등의 언어는 명령형 프로그래밍 패러다임과 객체지향 프로그래밍 패러다임을 동시에 차용한 다중 프로그래밍 패러다임 언어이다. 스위프트는 여기에 함수형 프로그래밍 패러다임과 프로토콜 지향 프로그래밍 패러다임을 더한 언어라고 생각하면 된다.

지금부터 오늘날 대부분의 프로그래밍 언어에서 차용하는 객체지향 프로그래밍 패러다임에 대해 알아보고, 근래에 큰 인기를 끌고 있는 함수형 프로그래밍 패러다임과 프로토콜 지향 프로그래밍 패러다임에 대해 조금 더 알아보겠다.

### 1.2.1 객체지향
현대 프로그래밍 언어에서 대부분 차용하고 있는 객체지향 프로그래밍 패러다임에 대해 알아보겠다.

**객체지향 프로그래밍 패러다임**
객체지향 프로그래밍 패러다임은 컴퓨터 프로그래밍 패러다임의 한 종류로 객체지향 프로그래밍(OOP)이라고도 불린다. 객체지향 프로그래밍은 컴퓨터 프로그램을 명령어의 목록으로 보는 기존의 명령어 프로그래밍 패러다임의 시각에서 벗어나 여러 개의 독립된 단위인 객체의 모임으로 파악하고자 하는 시각이다. 각각의 객체는 서로 메시지를 주고 받고 데이터를 처리할 수 있다.

객체지향 프로그래밍은 프로그램을 유연하고 쉽게 변경할 수 있도록 작성할 수 있어 대규모 소프트웨어 개발에 많이 사용된다. 또한 객체만 잘 이해하면 프로그래밍을 더 쉽게 배울 수 있고, 소프트웨어 개발과 유지보수를 간편하게 할 수 있으며, 직관적으로 코드를 분석할 수 있다는 장점이 있다. 소프트웨어 공학의 관점에서 소프트웨어의 질을 향상하려면 강한 응집력과 약한 결합력을 지향해햐 한다. 객체지향 프로그래밍은 클래스에 하나의 문제 해결을 위한 데이터와 메서드를 모아놓은 방식으로 응집력을 강화한다. 또, 각 클래스는 독립적이 되도록 디자인해 결합력을 약화한다. 그러나 실제 세계의 모습을 프로그램안에 구현하고자 했던 객체지향 프로그래밍 패러다임이지만, 지나친 프로그램의 객체화 경향 때문에 오히려 실제 세계의 모습을 그대로 반영하기 어렵다는 비판을 받끼도 한다.

객체지향 프로그래밍의 주요 특징으로는 자료 추상화, 상속, 다형성, 동적 바인딩 등이 있으며, 객체지향 프로그래밍 패러다임을 차용한 언어에는 Smalltalk, Objective-C, C++, C#, JAVA, Python, Ruby, Swift 등이 있다.

**클래스와 객체**
클래스와 객체의 관계를 살펴보기 전에 객체지향 프로그래밍에서 주요하게 다루는 용어를 먼저 알아보겠다.
* 클래스 : 같은 종류(또는 문제 해결을 위한)의 집단에 속하는 속성과 행위를 정의한 것. 객체지향 프로그램의 기본 사용자 정의 데이터 타입이라고 할 수 있다. 클래스는 다른 클래스 또는 외부 요소와 독립적으로 디자인 되어야 한다.
* 객체 : 클래스의 인스턴스(실제로 메모리에 할당되어 동작하는 모양을 갖춘 것)이다. 객체는 자신 고유의 속성이 있으며 클래스에서 정의한 행위를 할 수 있다. 스위프트에서 '객체'라는 용어보다는 '클래스의 인스턴스'라는 표현을 사용한다.
* 메서드 또는 메시지 : 객체가 클래서에 정의된 행위를 실질적으로 하는 함수이다. 메서드를 통해 객체에 명령을 전달할 수 있따. 객체 간의 명령 전달 또는 데이터 전달은 메서드를 통해 이루어지며 명령을 전달하거나 데이터를 전달하는 행위를 '메서드를 호출한다' 또는 '메시지를 전달한다' 라고 표현한다.

**코드 1-1 스위프트에서 객체지향 프로그래밍 패러다임의 사용**
```swift
class SomeClass {
    var someProperty: Any = 1
    func someMethod() {
        // some task ...
    }
  }
let myInstance: SomeClass = SomeClass()
// SomeClass라는 이름의 클래스의 이니셜라이져를 호출하여
// myInstance라는 이름의 상수에 할당한다.
// 클래스의 이니셜라이저를 통해 메모리에 할당되고 초기화한 객체는 우리는 인스턴스라고 부른다.

myInstance.someProperty = 100 // 인스턴스의 프로퍼티에 값을 할당할 수도 있고
print(myInstance.someProperty)// 값을 가져올 수도 있다.

myInstance.someMethod() // 인스턴서의 메서드를 호출하여 작업을 수행하도록 할 수 있다.
```

코드로 보면 알 수 있듯이 스위프트뿐만 아니라 객체지향 프로그래밍 패러다임을 차용한 언어는 필수로 명령형 프로그래밍 패러다임을 사용한다. 프로퍼티, 변수 등에 해당하는 메모리 값의 변화(상태변화)가 있기 때문이다.

클래스는 객체가 만들어지기 위한 청사진으로 비유할 수 있다. 클래스는 실제 메모리에 객체를 할당해 인스턴스를 만들기 위한 일종의 설계코드이다. 클래스에 구현된 코드대로 실제로 객체가 메모리에 올라가 활동하게 된다. 클래스에 정의된 모양대로 객체가 생성되고 객체간의 메시지를 통해 프로그램의 각 명령이 실행된다.

### 1.2.2 함수형
여기에서는 함수형 프로그래밍 패러다임이 무엇인지 알아보고 스위프트가 왜 함수형 프로그래밍 패러다임을 차용했는지도 살펴본다.

**함수형 프로그래밍 패러다임**
함수형 프로그래밍 패러다임은 최근 프로그래밍 패러다임의 대세로 떠오르고 있다. 함수형 프로그래밍 패러다임의 가장 큰 장점은 **대규모 병렬처리가 굉장히 쉽다**는 점입니다. 지금부터 함수형 프로그래밍 패러다임에 대해 알아보겠다.

함수형 프로그래밍 패러다임은 프로그램이 상태의 변화 없이 데이터 처리를 수학적 함수 계산으로 취급하고자 하는 패러다임이다. 기존 객체지향 프로그래밍 패러다임이나 명령형 프로그래밍 패러다임에서는 프로그램에서 값이나 상태의 변화를 중요하게 여기지만 함수형 프로그래밍 패러다임은 함수 자체의 응용을 중요하게 여긴다. 수학적 함수와 명령형 함수의 차이점은 코드 이해와 실행 결과의 관점에서도 큰 차이를 보인다. 명령형 함수를 이용하는 객체지향 프로그래밍은 과거의 유산이라고도 볼 수 있는 절차지향 프로그래밍 패러다임이 포함되어 있다. 그래서 함수 실행 시 함수가 전달받은 전달인자 외에도 포인터, 레퍼런스 값 등 객체의 상태 값(프로퍼티 값) 또는 메모리 참조 값 등이 변경될 수 있으며 함수 내부의 처리에도 영향을 미칠 수 있다.

하지만 수학적 함수를 이용하는 함수형 프로그래밍은 순수하게 함수에 전달된 인자 값만 결과에 영향을 주므로 상태 값을 갖지 않고 순수하게 함수만으로 동작한다. 따라서 어떤 상황에서 프로그램을 실행하더라도 일정하게 같은 결과를 도출할 수 있다. 프로그램이 동작하는 흐름에서 상태(값)가 변하지 않으면 함수 호출이 각각 상호 간섭 없이 배타적으로 실행되므로 병렬처리할 때 부작용이 거의 없다. 프로세스 혹은 스레드별로 특정 값을 참조하기 위해 락을 걸거나 대기할 필요가 없기 때문이다. 또한 필요한 만큼 함수를 나누어 처리할 수 있도록 스케일업할 수 있기 때문에 대규모 병렬처리에 큰 강점이 있다.

또 다른 함수형 프로그래밍의 큰 특징은 함수를 일급 객체(First class Citizen)로 다룬다는 점이다. 다음 조건을 모두 충족해야 일급 객체가 될 수 있다.
* 전달인자로 전달할 수 있다.
* 동적 프로퍼티 할당이 가능하다.
* 변수나 데이터 구조 안에 담을 수 있다.
* 반환 값으로 사용할 수 있다.
* 할당할 때 사용된 이름과 관계없이 고유한 객체로 구별할 수 있다.

기존의 스칼라 타입인 정수, 실수 등은 거의 모든 언어에서 일급 객체의 조건을 갖출 수 있지만, 대부분의 함수는 그렇지 않다. 하지만 스위프트의 함수는 이 조건을 모두 충족할 수 있기에 함수를 일급 객체로 취급한다. 함수가 일급 객체가 된다는 의미는 다양한 종류의 함수를 호출하고, 전달하고, 반환하는 등의 동작만으로도 프로그램을 구현할 수 있다는 뜻이다.

그럼 기존 명령형 프로그래밍 패러다임으로 구현된 코드를 함수형 프로그래밍 패러다임 코드와 비교해본다. 함수 자체가 전달인자로 전달되는 점을 눈여겨 보면 된다.

**명령형 프로그래밍 패러다임**
```swift
func doSomething() {
  print("do doSomething")
}

func doAnotherThing() {
  print("do another thing")
}

func excuteAll() {
  doSomething()
  doAnotherThing()
}

excuteAll()

// 두 수의 합을 구하고 싶은 경우

// 명령형 프로그래밍 패러다임
func sum(first: Int, second: Int) -> {
  return first + second
}

sum(first: 10, second: 5)
```

**함수형 프로그래밍 패러다임**
```swift
func doSomething() {
  print("do doSomething")
}

func doAnotherThing() {
  print("do another thing")
}

func excuteAll(tasks: [() -> Void]) {
  for task in tasks {
    task()
  }
}

excute(tasks: [doSomething, doAnotherThing])

// 두 수의 합을 구하고 싶은 경우

// 함수형 프로그래밍 패러다임
func sum(first: Int) -> ((Int) -> Int) {
  return { second in first + second }
}

sum(first: 10)(5)
```

함수형 프로그래밍 패러다임 안에서는 함수가 일급 객체이므로 전달인자 또는 반환 값으로 사용할 수 있다. 따라서 excute(tasks: [doSomething, doAnotherThing])처럼 doSomething 함수와 doAnotherThing 함수를 전달인자로 사용할 수 있다. 또, 덧셈 함수인 sum 역시 함수형 프로그래밍 패러다임에서 즐겨 사용되는 커링(Currying) 기법으로 전달인자를 하나만 두고 반환하면서 second in first + second 처럼 전달인자를 사용할 수 있다.

`currying : 여러 개의 매개변수를 갖는 함수를 매개변수 하나를 갖는 함수의 나열로 표현하는 방법`

또한 함수형 프로그래밍 패러다임은 위에 제시한 간단한 차이 외에도 모다느, 함수객체, 필터, 맵, 플랫맵, 리듀스 등의 기능을 사용할 수 있다.

**명령형 프로그래밍과 함수형 프로그래밍의 비교**
||명령형 프로그래밍| 함수형 프로그래밍|
|:---:|:---:|:---:|
|프로그래머가 초점을 두는 곳|작업 수행 알고리즘, 상태의 변경 추적|원하는 정보, 필요한 변환|
|상태 변경|중요|없음|
|실행 순서|중요|낮은 중요도|
|주요 흐름 제어|제어 구문(반복문, 조건문 등), 함수(메서드)호출|순환(재귀)함수 호출 등의 함수 호출로 제어|
|주요 조작 단위|클래스나 구조체의 인스턴스|함수|

**스위프트가 함수형 프로그래밍 패러다임을 차용한 의의**
사실 각각의 프로그래밍 패러다임 자체도 정의하기 어렵거니와 어떤 언어에 어떠한 프로그래밍 패러다임이 있다고 딱 잘라 말하기 쉽지 않다. 그렇지만 애플이 스위프트를 공개하며 발표한 내용을 살펴보면 스위프트는 분명 객체지향 프로그래밍 패러다임과 함수형 프로그래밍 패러다임을 모두 차용하고 있다.

사실 애플의 프레임워크 대부분은 객체지향 프로그래밍 패러다임을 기반으로 설계된 수많은 클래스로 구성되어 있다. 따라서 애플의 프레임워크에서 사용될 언어가 객체지향 프로그래밍 패러다임을 수용하지 않는다면 당연히 문제가 발생할 것이다.

하지만 애플은 스위프트에서 함수형 프로그래밍 패러다임을 특히나 강조한다. 이는 애플의 프레임워크를 벗어나 다른 영역(예를 들어 서버용 프레임워크 등)에서 스위프트를 사용했을 때 순수하게 함수형 프로그래밍 패러다임으로 프로그램을 작성할 수 있기 때문이다.

순수하게 함수형 프로그래밍 패러다임으로 프로그램을 작성하면 다음과 장점이 있다.
* 여러가지 연산 처리 작업이 동시에 일어나는 프로그램을 만들기 쉽다.
* 멀티 코어 혹은 여러 개 연산 프로세서를 사용하는 시스템에서 효율적인 프로그램을 만들기 쉽다.
* 상태변화에 따른 부작용에서 자유로워지므로 순수하게 기능 구현에 초점을 맞추어 설계할 수 있다.

떄에 따라서 적절하게 객체지향과 함수형 프로그래밍 패러다임을 섞어 프로그램을 작성한다면 필요한 기능에 맞게 최적의 성능을 발휘할 수 있고, 생산성도 극대화할 수 있는 프로그램을 만들 수 있다.

근래에는 스위프트뿐만 아니라 객체지향 프로그래밍 패러다임을 기반으로 구현된 프로그래밍 언어 중에서도 함수형 프로그래밍이 가능하도록 버전이 업데이트 된 언어 (ex: JAVA 8, C#3.0 등)도 생겨나는 추세이다.

### 1.2.3 프로토콜 지향
2015년 2.0 버전이 발표되면서 추가된 프로토콜 익스텐션은 스위프트가 강력한 프로토콜 지향 언어로 변모하는데 큰 공헌을 했다. 심지어 WWDC에서 스위프트 표준 라이브러리의 테크니컬 리더인 데이브 에이브러햄이 직접 스위프트는 프로토콜 지향 언어라고 선언했다. 그는 프로토콜 지향 프로그래밍은 참조 타입인 클래스의 인스턴스 값 타입을 더 효율적으로 사용하며, 오류를 줄일 방안이라고 소개했다.

스위프트에서는 구조체와 열거형에 기존의 클래스에서 구현할 수 있었던 캡슐화, 추상화, 접근제어 등의 기능을 모두 구현할 수 있다. 더불어 프로토콜에 익스텐션을 활용할 수 있기 때문에 프로토콜 지향 프로그래밍이 가능해졌다. 이는 참조 타입의 참조 문제에서 조금 더 자유로울 수 있고, 다중상속이 불가능한 한계를 뛰어넘을 수 있으며, 더 나은 추상화 메커니즘을 구현할 수 있다는 이야기이다.

실제로 스위프트의 프로토콜 지향 프로그래밍 기법은 프로토콜 익스텐션 기능을 통해 완성되었으며 강력해졌다.

## 1.3 스위프트 실행 환경
스위프트는 오픈소스로 전환된 이후 macOS 외의 다른 환경, 즉 리눅스 및 윈도우 등에서도 사용할 수 있다. 그렇지만 아직 스위프트의 문법을 익히고 연습하기에는 Xcode의 플레이그라운드와 RERL이 가장 편리하다.
